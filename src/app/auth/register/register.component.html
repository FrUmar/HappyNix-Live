<div class="main">
    <app-matrix-rain></app-matrix-rain>
    <div class="matrix-background"></div>
    <div class="register-container">
        <div class="register-box">
            <h1 class="glitch" data-text="REGISTER">REGISTER</h1>
            <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
                <div class="input-group">
                    <input type="text" formControlName="name" required />
                    <label>Username / Handle</label>
                    <span class="errorValdation"
                        *ngIf="registerForm.controls['name'].touched && registerForm.controls['name'].errors?.['required']">
                        Name is required
                    </span>
                </div>
                <div class="input-group">
                    <input type="email" formControlName="email" required />
                    <label>Email</label>
                    <span class="errorValdation"
                        *ngIf="registerForm.controls['email'].touched && registerForm.controls['email'].errors as errors">
                        <span *ngIf="errors['required']">Email is required</span>
                        <span *ngIf="errors['email']">Email is invalid</span>
                    </span>
                </div>
                <div class="input-group">
                    <input [type]="showPassword ? 'text' : 'password'" formControlName="password" required />
                    <svg class="show-password-icon" (click)="showHidePassword()" *ngIf="!showPassword"
                        xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 14 14">
                        <path fill="currentColor" fill-rule="evenodd"
                            d="M2.933 3.491C4.056 2.681 5.456 2 7 2s2.944.682 4.067 1.491c1.128.812 2.02 1.784 2.56 2.437l.005.005c.241.3.368.681.368 1.067c0 .386-.127.766-.368 1.067l-.005.005c-.54.653-1.432 1.625-2.56 2.437C9.944 11.32 8.544 12 7 12s-2.944-.682-4.067-1.49C1.805 9.696.913 8.724.373 8.071l-.005-.005A1.7 1.7 0 0 1 0 7c0-.386.127-.766.368-1.067l.005-.005c.54-.653 1.432-1.625 2.56-2.437M7 9.25a2.25 2.25 0 1 0 0-4.5a2.25 2.25 0 0 0 0 4.5"
                            clip-rule="evenodd" />
                    </svg>
                    <svg class="show-password-icon" (click)="showHidePassword()" *ngIf="showPassword"
                        xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 1024 1024">
                        <path fill="currentColor"
                            d="M508 624a112 112 0 0 0 112-112c0-3.28-.15-6.53-.43-9.74L498.26 623.57c3.21.28 6.45.43 9.74.43m370.72-458.44L836 122.88a8 8 0 0 0-11.31 0L715.37 232.23Q624.91 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 0 0 0 51.5q56.7 119.43 136.55 191.45L112.56 835a8 8 0 0 0 0 11.31L155.25 889a8 8 0 0 0 11.31 0l712.16-712.12a8 8 0 0 0 0-11.32M332 512a176 176 0 0 1 258.88-155.28l-48.62 48.62a112.08 112.08 0 0 0-140.92 140.92l-48.62 48.62A175.09 175.09 0 0 1 332 512" />
                        <path fill="currentColor"
                            d="M942.2 486.2Q889.4 375 816.51 304.85L672.37 449A176.08 176.08 0 0 1 445 676.37L322.74 798.63Q407.82 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 0 0 0-51.5" />
                    </svg>
                    <label>Password</label>
                    <span class="errorValdation"
                        *ngIf="registerForm.controls['password'].touched && registerForm.controls['password'].errors as errors">
                        <span *ngIf="errors['required']">Password is required.</span>
                        <span *ngIf="errors['pattern']">Password must be a minimum length of 8 characters
                            containing uppercase, lowercase letters, a number and a symbol.</span>
                    </span>
                </div>
                <div class="input-group">
                    <input [type]="showConfirmPassword ? 'text' : 'password'" formControlName="confirmPassword"
                        required />
                    <svg class="show-password-icon" (click)="showHideConfirmPassword()" *ngIf="!showConfirmPassword"
                        xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 14 14">
                        <path fill="currentColor" fill-rule="evenodd"
                            d="M2.933 3.491C4.056 2.681 5.456 2 7 2s2.944.682 4.067 1.491c1.128.812 2.02 1.784 2.56 2.437l.005.005c.241.3.368.681.368 1.067c0 .386-.127.766-.368 1.067l-.005.005c-.54.653-1.432 1.625-2.56 2.437C9.944 11.32 8.544 12 7 12s-2.944-.682-4.067-1.49C1.805 9.696.913 8.724.373 8.071l-.005-.005A1.7 1.7 0 0 1 0 7c0-.386.127-.766.368-1.067l.005-.005c.54-.653 1.432-1.625 2.56-2.437M7 9.25a2.25 2.25 0 1 0 0-4.5a2.25 2.25 0 0 0 0 4.5"
                            clip-rule="evenodd" />
                    </svg>
                    <svg class="show-password-icon" (click)="showHideConfirmPassword()" *ngIf="showConfirmPassword"
                        xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 1024 1024">
                        <path fill="currentColor"
                            d="M508 624a112 112 0 0 0 112-112c0-3.28-.15-6.53-.43-9.74L498.26 623.57c3.21.28 6.45.43 9.74.43m370.72-458.44L836 122.88a8 8 0 0 0-11.31 0L715.37 232.23Q624.91 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 0 0 0 51.5q56.7 119.43 136.55 191.45L112.56 835a8 8 0 0 0 0 11.31L155.25 889a8 8 0 0 0 11.31 0l712.16-712.12a8 8 0 0 0 0-11.32M332 512a176 176 0 0 1 258.88-155.28l-48.62 48.62a112.08 112.08 0 0 0-140.92 140.92l-48.62 48.62A175.09 175.09 0 0 1 332 512" />
                        <path fill="currentColor"
                            d="M942.2 486.2Q889.4 375 816.51 304.85L672.37 449A176.08 176.08 0 0 1 445 676.37L322.74 798.63Q407.82 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 0 0 0-51.5" />
                    </svg>
                    <label>Confirm Password</label>
                    <span class="errorValdation"
                        *ngIf="registerForm.controls['confirmPassword'].touched && registerForm.controls['confirmPassword'].errors as errors">
                        <span *ngIf="errors['required']">Confirm Password is required.</span>
                        <span *ngIf="errors['mustMatch']">Passwords must match.</span>
                    </span>
                </div>
                <button type="submit" class="neon-button green" [disabled]="registerLoading">
                    <span *ngIf="registerLoading" class="spinner-border spinner-border-sm me-1" role="status"
                        aria-hidden="true"></span>
                    {{ registerLoading ? 'Creating...' : 'Create Account' }}
                </button>
            </form>
            <div class="links">
                Already have an account?<a [routerLink]="'/auth/login'">Log in</a>
            </div>
        </div>
    </div>
</div>