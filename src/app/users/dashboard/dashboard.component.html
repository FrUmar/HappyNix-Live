<!-- Slider/Banner -->
<div class="slider-container">
    @for (slide of slides; track slide.title; let i = $index) {
    <div class="slide" [class.active]="i === currentSlide" [style.backgroundImage]="'url(' + slide.image + ')'">
        <div class="slide-content glitch-effect">
            <h1 class="glitch" [attr.data-text]="slide.title">{{ slide.title }}</h1>
            <p class="glitch" [attr.data-text]="slide.description">{{ slide.description }}</p>
        </div>
    </div>
    }
</div>

<!-- Categories -->
<ng-container *ngIf="!categoriesLoading; else categoryLoading">
    <section #animatedSection class="categories-container row">
        @for (category of categories; track category.name) {
        <!-- [queryParams]="{ category: category.name }" -->
        <div class="category-card" [routerLink]="`/tools/${category.name}`">
            <div class="card-icon"><img [src]="category.imageUrl" [alt]="category.name" alt=""></div>
            <div class="card-name">{{ category.name }}</div>
        </div>
        }
    </section>
</ng-container>
<ng-template #categoryLoading>
    <app-card-loading [loop]="4" [type]="1"></app-card-loading>
</ng-template>

<ng-container *ngIf="!toolsLoading; else toolsLoadingTpl">
    <!-- Free Tools -->
    <section #animatedSection class="tools-section">
        <h2>Free Tools<span>See all</span></h2>
        <div class="tools-grid">
            @for (tool of freeTools; track tool.productId) {
            <div class="tool-card">
                <div class="tool-icon"><img [src]="tool.mainImage" [alt]="tool.name" alt=""></div>
                <h3 class="tool-name">{{ tool.name }}</h3>
                <p class="tool-description">{{ tool.shortDescription }}</p>
                <div class="tool-actions">
                    <button class="neon-button" [routerLink]="'/details'"
                        [queryParams]="{ toolId: tool.productId}">Details</button>
                    <button class="neon-button green" (click)="placeOrder(tool)">Download</button>
                </div>
            </div>
            }
        </div>
    </section>

    <!-- Paid Tools -->
    <section #animatedSection class="tools-section">
        <h2>Paid Tools <span>See all</span>
        </h2>
        <div class="tools-grid">
            @for (tool of paidTools; track tool.productId) {
            <div class="tool-card">
                <div class="tool-icon"><img [src]="tool.mainImage" [alt]="tool.name" alt=""></div>
                <h3 class="tool-name">{{ tool.name }}</h3>
                <p class="tool-description">{{ tool.shortDescription }}</p>
                <div>
                    <h4 class="tool-name">Price: <span style="color:#0ff ;"> $ {{ tool.price }}</span> </h4>
                </div>
                <div class="tool-actions">
                    <button class="neon-button" [routerLink]="'/details'"
                        [queryParams]="{ toolId: tool.productId}">Details</button>
                    <button class="neon-button green" (click)="OpenBuyNowPopUp(tool.productId,tool)">Buy Now</button>
                </div>
            </div>
            }
        </div>
    </section>
</ng-container>
<ng-template #toolsLoadingTpl>
    <app-card-loading [loop]="5" [type]="2"></app-card-loading>
    <br />
    <br />
    <app-card-loading [loop]="5" [type]="2"></app-card-loading>
</ng-template>

<!-- VMware Fusion & Workstation Section -->
<section #animatedSection class="vmware-section">
    <div class="vmware-header">
        <h2 class="glitch" data-text="VMware Fusion & Workstation">VMware Fusion &amp; Workstation</h2>
        <p>Powerfully Simple Virtual Machines for Developers and IT Pros</p>
    </div>
    <div class="vmware-grid">
        @for (tool of vmwareTools; track tool.title) {
        <div class="vmware-card">
            <div class="vmware-card-icon">{{ tool.icon }}</div>
            <div class="vmware-card-content">
                <h3>{{ tool.title }}</h3>
                <p>{{ tool.description }}</p>
                <!-- <a [href]="tool.link" class="neon-button green">{{ tool.linkText }}</a> -->
            </div>
        </div>
        }
    </div>
</section>